#MAKEFILE

CC	=	cc
FLAGS	=	-Wall
EXEC	=	nms

all:		nms.o parse.o perror.o tcp.o file.o libchar.o sendmail.o test.o readconf.o
		cd src/
		$(CC) -o $(EXEC) $(FLAGS) nms.o parse.o perror.o tcp.o file.o libchar.o sendmail.o test.o readconf.o
		cp nms ../
		cd ..

nms.o:		nms.c
		cd src/
		$(CC) $(FLAGS) -c nms.c
parse.o:	parse.c
		cd src/
		$(CC) $(FLAGS) -c parse.c
perror.o:	perror.c
		cd src/
		$(CC) $(FLAGS) -c perror.c
tcp.o:		tcp.c
		cd src/
		$(CC) $(FLAGS) -c tcp.c
file.o:		file.c
		cd src/
		$(CC) $(FLAGS) -c file.c
libchar.o:	libs/libchar.c
		cd src/
		$(CC) $(FLAGS) -c libs/libchar.c
test.o:		test.c
		cd src/
		$(CC) $(FLAGS) -c test.c
sendmail.o:	sendmail.c
		cd src/
		$(CC) $(FLAGS) -c sendmail.c
readconf.o:	readconf.c
		cd src/
		$(CC) $(FLAGS) -c readconf.c

clean:
		rm -Rf src/*.o
		rm -Rf src/*~
		rm -Rf src/include/*.o
mrproper: 	clean
		rm -rf $(EXEC)
